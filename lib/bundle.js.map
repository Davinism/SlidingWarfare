{"version":3,"sources":["webpack:///webpack/bootstrap 282b86474bc8d8490cb8","webpack:///./lib/sliding_warfare.js","webpack:///./lib/game_view.js","webpack:///./lib/game.js","webpack:///./lib/shooter.js","webpack:///./lib/sliding_object.js","webpack:///./lib/util.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;;;;;;ACVD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACzBA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA,oBAAmB,uBAAuB;AAC1C,uCAAsC,4BAA4B;AAClE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACpCA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACxDA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 282b86474bc8d8490cb8\n **/","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  const canvasEl = document.getElementById(\"sliding-warfare\");\n\n  const ctx = canvasEl.getContext(\"2d\");\n\n  const newGame = new GameView(ctx);\n  newGame.start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/sliding_warfare.js\n ** module id = 0\n ** module chunks = 0\n **/","const Game = require('./game');\n\nclass GameView {\n  constructor(ctx) {\n    this.game = new Game;\n    this.ctx = ctx;\n  }\n\n  start() {\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 1\n ** module chunks = 0\n **/","const Shooter = require('./shooter');\n\n\nclass Game {\n  constructor() {\n    this.shooters = [];\n\n    this.addShooters = this.addShooters.bind(this);\n\n    this.addShooters();\n  }\n\n  addShooters() {\n    for (let i = 0; i < Game.NUM_SHOOTERS; i++) {\n      this.shooters.push(new Shooter({pos: [400, 400], game: this}));\n    }\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, 800, 800);\n    this.shooters.forEach( shooter => shooter.draw(ctx) );\n  }\n\n  moveObjects(delta) {\n    this.shooters.forEach( shooter => shooter.move(delta) );\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n  }\n}\n\nGame.DIM_X = 800;\nGame.DIM_Y = 800;\nGame.NUM_SHOOTERS = 1;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 2\n ** module chunks = 0\n **/","const SlidingObject = require('./sliding_object');\nconst Util = require('./util');\n\n\n\nclass Shooter extends SlidingObject {\n  constructor(options) {\n    super(Object.assign(defaultOptions, options));\n  }\n\n  fire() {\n\n  }\n}\n\nShooter.COLOR = \"#FF00BF\";\nShooter.RADIUS = 15;\nShooter.VEL = 2;\n\nconst defaultOptions = {\n  color: Shooter.COLOR,\n  radius: Shooter.RADIUS,\n  vel: Util.randomVec(Shooter.VEL)\n};\n\nmodule.exports = Shooter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/shooter.js\n ** module id = 3\n ** module chunks = 0\n **/","const NORMAL_FRAME_TIME_DELTA = 1000/60;\nconst FRICTIONAL_CONSTANT = 0.01;\n\nclass SlidingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.color = options.color;\n    this.game = options.game;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.theta = Math.atan(this.vel[0] / this.vel[1]);\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n\n  }\n\n  adjustXVelocity(velComponent) {\n    if (velComponent > 0 && velComponent > FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta))) {\n      return velComponent - (FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta)));\n    } else if (velComponent < 0 && velComponent < -1 * FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta))) {\n      return velComponent + (FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta)));\n    } else {\n      return 0;\n    }\n  }\n\n  adjustYVelocity(velComponent) {\n    if (velComponent > 0 && velComponent > FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta))) {\n      return velComponent - (FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta)));\n    } else if (velComponent < 0 && velComponent < -1 * FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta))) {\n      return velComponent + (FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta)));\n    } else {\n      return 0;\n    }\n  }\n\n  move(timeDelta) {\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA;\n    const offsetX = this.vel[0] * velocityScale;\n    const offsetY = this.vel[1] * velocityScale;\n\n    this.theta = Math.atan(this.vel[0] / this.vel[1]);\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    this.vel = [this.adjustXVelocity(this.vel[0]), this.adjustYVelocity(this.vel[1])];\n  }\n}\n\nmodule.exports = SlidingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/sliding_object.js\n ** module id = 4\n ** module chunks = 0\n **/","const Util = {\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  norm (vec) {\n    return Util.dist([0, 0], vec);\n  },\n\n  randomVec (length) {\n    var deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n\n  scale (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  dir (vec) {\n    var norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}