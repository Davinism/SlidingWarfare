{"version":3,"sources":["webpack:///webpack/bootstrap 7de7e3a66d7dde28898e","webpack:///./lib/sliding_warfare.js","webpack:///./lib/game_view.js","webpack:///./lib/game.js","webpack:///./lib/shooter.js","webpack:///./lib/sliding_object.js","webpack:///./lib/util.js","webpack:///./lib/wall.js","webpack:///./lib/rigid_object.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,EAAC;;;;;;;ACZD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACzBA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAmB,uBAAuB;AAC1C,uCAAsC,yCAAyC;AAC/E;AACA;;AAEA;AACA,oBAAmB,oBAAoB;AACvC;AACA;AACA,eAAc;AACd;AACA;AACA,mBAAkB,4BAA4B;AAC9C;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;AC3EA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC7BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;;AAEf,OAAM;AACN,gBAAe;;AAEf,OAAM;AACN,gBAAe;;AAEf,OAAM;AACN,gBAAe;;AAEf;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,QAAO;AACP;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAc;AACd;;AAEA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,aAAY;AACZ;;AAEA;;AAEA;;;;;;;AC9JA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AC1BA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 7de7e3a66d7dde28898e\n **/","const Game = require(\"./game\");\nconst GameView = require(\"./game_view\");\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  const canvasEl = document.getElementById(\"sliding-warfare\");\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  const ctx = canvasEl.getContext(\"2d\");\n\n  const newGame = new GameView(ctx);\n  newGame.start();\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/sliding_warfare.js\n ** module id = 0\n ** module chunks = 0\n **/","const Game = require('./game');\n\nclass GameView {\n  constructor(ctx) {\n    this.game = new Game;\n    this.ctx = ctx;\n  }\n\n  start() {\n    this.lastTime = 0;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 1\n ** module chunks = 0\n **/","const Shooter = require('./shooter');\nconst Wall = require('./wall');\n\n\nclass Game {\n  constructor() {\n    this.shooters = [];\n    this.walls = [];\n\n    this.addShooters = this.addShooters.bind(this);\n\n    this.addShooters();\n    this.addWalls();\n  }\n\n  addShooters() {\n    for (let i = 0; i < Game.NUM_SHOOTERS; i++) {\n      this.shooters.push(new Shooter({pos: [300, 300], vel: [2, 2], game: this}));\n    }\n  }\n\n  addWalls() {\n    for (let i = 0; i < Game.NUM_WALLS; i++) {\n      this.walls.push(\n        // new Wall(\n        //   {pos: [Game.DIM_X * Math.random(), Game.DIM_Y * Math.random()],\n        //     game: this}\n        // )\n        new Wall({pos: [375, 375], game: this})\n      );\n    }\n  }\n\n  allObjects() {\n    return this.shooters.concat(this.walls);\n  }\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, 800, 800);\n    this.allObjects().forEach( object => object.draw(ctx) );\n  }\n\n  moveObjects(delta) {\n    this.shooters.forEach( shooter => shooter.move(delta) );\n  }\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkCollisions();\n  }\n\n  dimX() {\n    return Game.DIM_X;\n  }\n\n  dimY() {\n    return Game.DIM_Y;\n  }\n\n  checkCollisions() {\n    for (let i = 0; i < this.walls.length; i++) {\n      if (this.shooters[0].isCollidedWithRigidObject(this.walls[i])) {\n        this.shooters[0].collideWithRigidObject(this.walls[i]);\n      }\n    }\n\n  }\n\n}\n\nGame.DIM_X = 800;\nGame.DIM_Y = 800;\nGame.NUM_SHOOTERS = 1;\nGame.NUM_WALLS = 1;\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 2\n ** module chunks = 0\n **/","const SlidingObject = require('./sliding_object');\nconst Util = require('./util');\n\n\n\nclass Shooter extends SlidingObject {\n  constructor(options) {\n    super(Object.assign(defaultOptions, options));\n  }\n\n  fire() {\n\n  }\n\n  // collideWithRigidObject(otherObject) {\n  //\n  // }\n}\n\nShooter.COLOR = \"#FF00BF\";\nShooter.RADIUS = 15;\nShooter.VEL = 5;\n\nconst defaultOptions = {\n  color: Shooter.COLOR,\n  radius: Shooter.RADIUS,\n  vel: Util.randomVec(Shooter.VEL)\n};\n\nmodule.exports = Shooter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/shooter.js\n ** module id = 3\n ** module chunks = 0\n **/","const NORMAL_FRAME_TIME_DELTA = 1000/60;\nconst FRICTIONAL_CONSTANT = 0.01;\n\nclass SlidingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.color = options.color;\n    this.game = options.game;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.theta = Math.atan(this.vel[0] / this.vel[1]);\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n\n  }\n\n  adjustXVelocity(velComponent) {\n    if (velComponent > 0 && velComponent > FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta))) {\n      return velComponent - (FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta)));\n    } else if (velComponent < 0 && velComponent < -1 * FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta))) {\n      return velComponent + (FRICTIONAL_CONSTANT * Math.abs(Math.sin(this.theta)));\n    } else {\n      return 0;\n    }\n  }\n\n  adjustYVelocity(velComponent) {\n    if (velComponent > 0 && velComponent > FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta))) {\n      return velComponent - (FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta)));\n    } else if (velComponent < 0 && velComponent < -1 * FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta))) {\n      return velComponent + (FRICTIONAL_CONSTANT * Math.abs(Math.cos(this.theta)));\n    } else {\n      return 0;\n    }\n  }\n\n  move(timeDelta) {\n    this.handleBoundaries(this.pos);\n\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA;\n    const offsetX = this.vel[0] * velocityScale;\n    const offsetY = this.vel[1] * velocityScale;\n\n    this.theta = Math.atan(this.vel[0] / this.vel[1]);\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n    this.vel = [this.adjustXVelocity(this.vel[0]), this.adjustYVelocity(this.vel[1])];\n  }\n\n  checkOutOfBounds(pos) {\n    if ((pos[0] - this.radius) <= 0 ){\n       return {coord: \"X\", low: true};\n\n     } else if ((pos[0] + this.radius) >= this.game.dimX()){\n       return {coord: \"X\", low: false};\n\n     } else if ((pos[1] - this.radius) <= 0){\n       return {coord: \"Y\", low: true};\n\n     } else if ((pos[1] + this.radius) >= this.game.dimY()) {\n       return {coord: \"Y\", low: false};\n\n     }\n  }\n\n  handleBoundaries(pos) {\n    let outOfBounds = this.checkOutOfBounds(pos);\n\n    if (outOfBounds) {\n      if (outOfBounds.coord === \"X\") {\n        if (outOfBounds.low) {\n          this.vel[0] = this.vel[0] < 0 ? this.vel[0] * -1 : this.vel[0];\n        } else {\n          this.vel[0] = this.vel[0] > 0 ? this.vel[0] * -1 : this.vel[0];\n        }\n      } else if (outOfBounds.coord === \"Y\") {\n        if (outOfBounds.low) {\n          this.vel[1] = this.vel[1] < 0 ? this.vel[1] * -1 : this.vel[1];\n        } else {\n          this.vel[1] = this.vel[1] > 0 ? this.vel[1] * -1 : this.vel[1];\n        }\n      }\n    }\n  }\n\n  isCollidedWithRigidObject(rigidObject) {\n    let half = { x: rigidObject.width / 2, y: rigidObject.height / 2 };\n    let center = {\n      x: this.pos[0] - (rigidObject.pos[0] + half.x),\n      y: this.pos[1] - (rigidObject.pos[1] + half.y)\n    };\n\n    let side = {\n      x: Math.abs(center.x) - half.x,\n      y: Math.abs(center.y) - half.y\n    };\n\n    if (side.x > this.radius || side.y > this.radius) {\n      return false;\n    }\n    if (side.x < 0 || side.y < 0) {\n      return true;\n    }\n\n    return (side.x * side.x + side.y * side.y) < (this.radius * this.radius);\n  }\n\n  collideWithRigidObject(rigidObject) {\n    let half = { x: rigidObject.width / 2, y: rigidObject.height / 2 };\n    let center = {\n      x: this.pos[0] - (rigidObject.pos[0] + half.x),\n      y: this.pos[1] - (rigidObject.pos[1] + half.y)\n    };\n\n    let side = {\n      x: Math.abs(center.x) - half.x,\n      y: Math.abs(center.y) - half.y\n    };\n\n    if (side.x > this.radius || side.y > this.radius) {\n      return { bounce: false };\n    }\n\n    if (side.x < 0 || side.y < 0) {\n\n      if (Math.abs(side.x) < this.radius && side.y < 0) {\n        this.vel[0] = this.vel[0] * -1;\n      } else if (Math.abs(side.y) < this.radius && side.x < 0) {\n        this.vel[1] = this.vel[1] * -1;\n      }\n    }\n\n    let bounce = side.x * side.x + side.y * side.y < this.radius * this.radius;\n    if (!bounce) {\n      return { bounce: false };\n    }\n\n    if (bounce) {\n      this.vel = [this.vel[0] * -1, this.vel[1] * -1];\n    }\n\n    let norm = Math.sqrt(side.x * side.x + side.y * side.y);\n    let dx = center.x < 0 ? -1 : 1;\n    let dy = center.y < 0 ? -1 : 1;\n\n    return { bounce: true, x: dx * side.x / norm, y: dy * side.y / norm };\n  }\n\n}\n\nmodule.exports = SlidingObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/sliding_object.js\n ** module id = 4\n ** module chunks = 0\n **/","const Util = {\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n\n  norm (vec) {\n    return Util.dist([0, 0], vec);\n  },\n\n  randomVec (length) {\n    var deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n\n  scale (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  dir (vec) {\n    var norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  }\n};\n\nmodule.exports = Util;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/util.js\n ** module id = 5\n ** module chunks = 0\n **/","const RigidObject = require('./rigid_object.js');\n\nclass Wall extends RigidObject {\n  constructor(options) {\n    super(Object.assign(defaultOptions, options));\n  }\n}\n\nWall.COLOR = \"#CCC\";\nWall.HEIGHT = 50;\nWall.WIDTH = 50;\n\nconst defaultOptions = {\n  color: Wall.COLOR,\n  height: Wall.HEIGHT,\n  width: Wall.WIDTH\n};\n\nmodule.exports = Wall;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/wall.js\n ** module id = 6\n ** module chunks = 0\n **/","class RigidObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.color = options.color;\n    this.game = options.game;\n    this.height = options.height;\n    this.width = options.width;\n\n    this.draw = this.draw.bind(this);\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0], this.pos[1], this.width, this.height);\n  }\n}\n\nmodule.exports = RigidObject;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/rigid_object.js\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}